<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>LuaLet's Machine</title>
</head>

<body>

    <div class="div-container">

        <div class="div-formulario">
            <h1>LuaLet's Machine</h1>
            <span class="span-pergunta">Qual o número para conversão? </span>
            <input class="input-numero" type="text" id="input_numero_conversao">
            <select id="select_bases" class="select-base-conversao">
                <option value="10">Decimal</option>
                <option value="2">Binário</option>
                <option value="8">Octal</option>
                <option value="16">Hexadecimal</option>
            </select>
            <br> <br>
            <div id="div-alinhar">
                <span class="span-pergunta"> Decimal <input id="input_decimal" onchange="AparecerDecimal()"
                        type="checkbox" class="checkbox-opcoes"><br></span>
                <span class="span-pergunta">Binário <input id="input_binário" onchange="AparecerBinario()"
                        type="checkbox" class="checkbox-opcoes"> <br></span>
                <span class="span-pergunta">Octal <input id="input_octal" onchange="AparecerOctal()" type="checkbox"
                        class="checkbox-opcoes"> </span>
                <span class="span-pergunta">Hexadecimal <input id="input_hexadecimal" onchange="AparecerHexadecimal()"
                        type="checkbox" class="checkbox-opcoes"></span>
            </div>
            <button class="btn-limpar" onclick="limparResposta()">LIMPAR</button>
        </div>
        <div class="div-saida">
            <h1>Saída das respostas aqui...</h1>
            <span class="span-resposta" id="span_resposta"></span>
        </div>
    </div>
</body>

</html>

<script>

    function AparecerDecimal() {
        let numero = input_numero_conversao.value;
        let base = select_bases.value;
        let numeroParaConversao = parseInt(numero, base);
        let decimal = numeroParaConversao.toString(10);


        if (!validarEntrada(numero, base)) {
            alert('Por favor, insira um número válido para a base selecionada.');
            return;
        } else {
            span_resposta.innerHTML += `<p style="color:rgb(234, 121, 212);" >Decimal:</p>${decimal} <br>`
        }


    }
    function AparecerBinario() {
        let numero = input_numero_conversao.value;
        let base = select_bases.value;
        let numeroParaConversao = parseInt(numero, base);
        let binario = numeroParaConversao.toString(2);
        

        if (!validarEntrada(numero, base)) {
            alert('Por favor, insira um número válido para a base selecionada.');
            return;
        } else {
            span_resposta.innerHTML += `<p style="color:rgb(234, 121, 212);" >Binário:</p>${binario} <br>`
        }
    }
    function AparecerOctal() {
        let numero = input_numero_conversao.value;
        let base = select_bases.value;
        let numeroParaConversao = parseInt(numero, base);
        let octal = numeroParaConversao.toString(8);
      
        if (!validarEntrada(numero, base)) {
            alert('Por favor, insira um número válido para a base selecionada.');
            return;
        } else {
            span_resposta.innerHTML += `<p style="color:rgb(234, 121, 212);" >Octal:</p>${octal} <br>`
        }
    }
    function AparecerHexadecimal() {
        let numero = input_numero_conversao.value;
        let base = select_bases.value;
        let numeroParaConversao = parseInt(numero, base);
        let hexadecimal = numeroParaConversao.toString(16).toUpperCase();
       

        if (!validarEntrada(numero, base)) {
            alert('Por favor, insira um número válido para a base selecionada.');
            return;
        } else {
            span_resposta.innerHTML += `<p style="color:rgb(234, 121, 212);" >Hexadecimal:</p>${hexadecimal} <br>`
        }
    }
    function validarEntrada(input_numero_conversao, select_bases) {

        var validChars = '';

        if (select_bases === '10') {
            validChars = '0123456789';
        } else if (select_bases === '16') {
            validChars = '0123456789ABCDEFabcdef';
        } else if (select_bases === '8') {
            validChars = '01234567';
        } else if (select_bases === '2') {
            validChars = '01';
        }

        for (var i = 0; i < input_numero_conversao.length; i++) {
            if (validChars.indexOf(input_numero_conversao[i]) === -1) {
                return false;
            }
        }
        return true;

    }
    function limparResposta(){
        span_resposta.innerHTML = ` `;
    }
</script>